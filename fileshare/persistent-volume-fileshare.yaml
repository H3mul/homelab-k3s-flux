apiVersion: v1
kind: PersistentVolume
metadata:
  name: fileshare
  namespace: media
spec:
  storageClassName: fileshare-storageclass
  capacity:
    storage: "500Gi"
  accessModes:
  - ReadWriteOnce
  - ReadOnlyMany
  csi:
    driver: rook-ceph.cephfs.csi.ceph.com
    volumeAttributes:
      # Required options from storageclass parameters need to be added in volumeAttributes
      "clusterID": "rook-ceph"
      # (required) CephFS filesystem name into which the volume shall be created
      "fsName": "ceph-filesystem"
      "staticVolume": "true"
      "rootPath": /volumes/static-storage/fileshare/share
    # volumeHandle can be anything, need not to be same
    # as PV name or volume name. keeping same for brevity
    volumeHandle: fileshare
    nodeStageSecretRef:
      name: rook-csi-cephfs-node-user
      namespace: rook-ceph
  persistentVolumeReclaimPolicy: Retain
  volumeMode: Filesystem
